<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TFY | TemuForYou</title>

  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --line:#e9e9ee;
      --text:#111827;
      --muted:#6b7280;
      --brand:#ff7a18;
      --brand2:#ff9b4d;
      --shadow: 0 14px 34px rgba(17,24,39,.10);
      --shadow2: 0 10px 24px rgba(17,24,39,.08);
      --radius: 20px;
      --radius2: 16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Apple SD Gothic Neo",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR","Helvetica Neue",Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    .topbar{
      position:sticky; top:0; z-index:50;
      background: linear-gradient(90deg, var(--brand), #ff8a2e);
      height:56px;
      display:flex; align-items:center;
      padding:0 18px;
      box-shadow: 0 10px 20px rgba(0,0,0,.10);
    }
    .logo{display:inline-flex;align-items:center;cursor:pointer;user-select:none}
    .logo-mark{
      font-weight:900;
      font-size:22px;
      letter-spacing:.5px;
      color:#fff;
      font-style:italic;
      text-shadow: 0 8px 18px rgba(0,0,0,.25);
      transform-origin:center;
    }
    .logo:hover .logo-mark{animation: tickle 650ms ease-in-out both;}
    @keyframes tickle{
      0%{transform:translateX(0) rotate(0deg)}
      15%{transform:translateX(-3px) rotate(-2deg)}
      30%{transform:translateX(3px) rotate(2deg)}
      45%{transform:translateX(-2px) rotate(-1deg)}
      60%{transform:translateX(2px) rotate(1deg)}
      100%{transform:translateX(0) rotate(0deg)}
    }

    .wrap{
      max-width:1160px;
      margin:0 auto;
      padding: 26px 18px 60px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:18px;
      align-items:start;
    }

    .hero{
      background:#fff1e8;
      border:1px solid #ffd9c0;
      border-radius: 28px;
      padding: 26px;
      box-shadow: var(--shadow2);
    }
    .hero h1{margin:0;font-size:30px;line-height:1.2;letter-spacing:-.5px}
    .hero p{margin:10px 0 0;color:var(--muted);line-height:1.6;max-width:62ch}

    .couponSlots{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:12px;
    }
    .slot{
      border-radius: 18px;
      border:1px solid var(--line);
      background:#fff;
      padding:14px;
      box-shadow: 0 10px 22px rgba(17,24,39,.06);
      min-height:86px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      overflow:hidden;
    }
    .slot .cap{font-size:13px;color:var(--muted);display:flex;align-items:center;gap:8px;font-weight:800}
    .slot .cap i{width:10px;height:10px;border-radius:999px;display:inline-block}
    .slot .title{margin-top:10px;font-weight:900;letter-spacing:-.2px}
    .slot .hint{margin-top:8px;font-size:12px;color:#9ca3af}
    .slot.blue .cap i{background:#3b82f6}
    .slot.mint .cap i{background:#10b981}
    .slot.purple .cap i{background:#8b5cf6}

    .section{
      margin-top:18px;
      background:var(--card);
      border:1px solid var(--line);
      border-radius: 26px;
      padding: 18px;
      box-shadow: var(--shadow2);
    }
    .sectionHead{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding: 2px 6px 10px;
    }
    .sectionHead h2{margin:0;font-size:18px;letter-spacing:-.2px}
    .sectionHead .sub{color:var(--muted);font-size:12.5px}

    .catGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:8px;
    }
    .cat{
      border:1px solid var(--line);
      border-radius: 18px;
      padding:12px;
      background:#fff;
      box-shadow: 0 10px 18px rgba(17,24,39,.05);
      min-height: 280px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .catTitle{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      font-weight:900;
    }
    .catTitle small{color:#9ca3af;font-size:12px;font-weight:800}

    .scrollList{
      margin:0; padding:0;
      list-style:none;
      display:flex;
      flex-direction:column;
      gap:8px;
      overflow:auto;
      padding-right: 4px;
      flex:1;
    }
    .scrollList::-webkit-scrollbar{width:8px}
    .scrollList::-webkit-scrollbar-thumb{background:#f0f1f4;border-radius:999px}

    .item{
      border:1px solid #eef0f5;
      border-radius: 14px;
      padding:10px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      background:#fff;
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .item:hover{transform: translateY(-1px);box-shadow: 0 12px 20px rgba(17,24,39,.06)}
    .item a{
      color:var(--text);
      text-decoration:none;
      font-weight:900;
      line-height:1.25;
      font-size:13.5px;
      display:inline-block;
      max-width:100%;
      white-space:normal;
      word-break:keep-all;
    }

    .badge{
      font-size:11px;
      padding:6px 8px;
      border-radius: 999px;
      border:1px solid #ffe1cd;
      background:#fff7f1;
      color:#c2410c;
      white-space:nowrap;
      font-weight:900;
      flex:0 0 auto;
    }
    .badge.miss{
      border:1px solid #e5e7eb;
      background:#f9fafb;
      color:#6b7280;
      font-weight:800;
    }

    .sidebarWrap{position:relative;min-height: 60vh;}
    .sidebar{
      width:360px;
      max-width:100%;
      position: sticky;
      top: 78px;
      will-change: transform;
    }

    @media (max-width: 980px){
      .wrap{grid-template-columns:1fr}
      .sidebar{
        width: min(420px, calc(100vw - 36px));
        margin: 0 auto;
      }
    }
    @media (max-width: 560px){
      .couponSlots{grid-template-columns:1fr}
      .catGrid{grid-template-columns:1fr}
      .hero h1{font-size:26px}
      .sidebar{width: min(420px, calc(100vw - 24px));}
    }

    .couponPanel{
      background:#fff;
      border:1px solid var(--line);
      border-radius: 26px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .couponHead{
      padding:14px;
      background: linear-gradient(180deg, #fff3ea, #ffffff);
      border-bottom:1px solid #f1f2f6;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
    }
    .couponHead .t{font-weight:900;display:flex;gap:8px;align-items:center}
    .couponHead .d{margin-top:4px;font-size:12px;color:var(--muted);line-height:1.4}
    .chip{
      font-size:12px;
      font-weight:900;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid #ffd9c0;
      background:#fff7f1;
      color:#c2410c;
      white-space:nowrap;
    }
    .couponList{
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .couponCard{
      border-radius: 18px;
      border:1px solid #eef0f5;
      background: linear-gradient(180deg, #ffffff, #fff7f1);
      box-shadow: 0 10px 20px rgba(17,24,39,.06);
      padding: 12px;
      display:grid;
      grid-template-columns: 1fr auto;
      gap:10px;
      align-items:center;
      position:relative;
      overflow:hidden;
    }
    .couponCard:before{
      content:"";
      position:absolute;
      inset:-40% auto auto -40%;
      width:180px;height:180px;
      background: radial-gradient(circle, rgba(255,122,24,.18), transparent 62%);
      transform: rotate(15deg);
    }
    .couponMeta{
      position:relative;
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .couponMeta .name{
      font-weight:900;
      display:flex;
      align-items:center;
      gap:8px;
      min-width:0;
    }
    .couponMeta .small{
      font-size:11px;
      color:#9ca3af;
      font-weight:800;
      border:1px solid #eef0f5;
      padding:4px 8px;
      border-radius:999px;
      background:#fff;
      flex:0 0 auto;
      white-space:nowrap;
    }
    .codePill{
      font-weight:900;
      border-radius: 14px;
      border:1px solid #ffd9c0;
      background:#fff;
      padding:8px 10px;
      display:inline-flex;
      align-items:center;
      gap:8px;
      box-shadow: inset 0 -2px 0 rgba(255,122,24,.12);
      max-width:100%;
    }
    .codePill b{letter-spacing:.4px}
    .miniBtn{
      border:0;
      border-radius: 12px;
      font-weight:900;
      padding:10px 12px;
      cursor:pointer;
      box-shadow: 0 10px 18px rgba(17,24,39,.08);
    }
    .miniBtn.copy{background:#fff;border:1px solid #e9e9ee;color:#111827}
    .miniBtn.go{background: linear-gradient(180deg, var(--brand2), var(--brand));color:#fff}

    .toast{
      position: fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background:#111827;
      color:#fff;
      padding: 10px 14px;
      border-radius: 999px;
      font-weight:900;
      font-size:13px;
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      z-index:1000;
    }
    .toast.show{opacity:1;transform: translateX(-50%) translateY(-6px);}

    .fab{
      position:fixed;
      right:16px;
      bottom:16px;
      width:58px;height:58px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.7);
      background: rgba(255,255,255,.55);
      backdrop-filter: blur(8px);
      box-shadow: 0 18px 34px rgba(17,24,39,.16);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      z-index:200;
      transition: transform .12s ease;
    }
    .fab:hover{transform: translateY(-2px)}
    .fab span{
      width:24px;height:24px;border-radius:8px;
      background: linear-gradient(180deg, var(--brand2), var(--brand));
      display:inline-block;
      position:relative;
      box-shadow: 0 10px 18px rgba(255,122,24,.22);
    }
    .fab span:before{
      content:"";
      position:absolute;
      inset:6px;
      border-radius: 5px;
      border:2px solid rgba(255,255,255,.9);
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="logo" id="logoBtn" title="TFY">
      <div class="logo-mark">TFY</div>
    </div>
  </header>

  <main class="wrap">
    <section>
      <div class="hero">
        <h1>í…Œë¬´ í˜œíƒ + ë¬¸ì œí•´ê²°,<br/>ê¸°ì‚¬í˜•ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì •ë¦¬í•©ë‹ˆë‹¤</h1>
        <p>
          ì¿ í°/ì‚¬ì€í’ˆ/íŠ¹ë³„ì„¸ì¼ì€ â€˜ë˜ëŠ” êµ¬ì¡°â€™ê°€ ìˆê³ , ë°°ì†¡Â·í†µê´€Â·í™˜ë¶ˆÂ·ê²°ì œ ë¬¸ì œëŠ” â€˜ë§‰íˆëŠ” ì§€ì â€™ì´ ìˆìŠµë‹ˆë‹¤.
          ì´ ì‚¬ì´íŠ¸ëŠ” ê³¼ì¥ì´ ì•„ë‹ˆë¼, <b>ì‹¤ì œ ì ìš© ê¸°ì¤€</b>ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤.
        </p>

        <div class="couponSlots">
          <div class="slot blue">
            <div class="cap"><i></i> ì¿ í° ìŠ¬ë¡¯ 1</div>
            <div class="title">ë¹„ì›Œë‘ </div>
            <div class="hint">ìš”ì²­ëŒ€ë¡œ ê³µë°± ìœ ì§€</div>
          </div>
          <div class="slot mint">
            <div class="cap"><i></i> ì¿ í° ìŠ¬ë¡¯ 2</div>
            <div class="title">ë¹„ì›Œë‘ </div>
            <div class="hint">ìš”ì²­ëŒ€ë¡œ ê³µë°± ìœ ì§€</div>
          </div>
          <div class="slot purple">
            <div class="cap"><i></i> ì¿ í° ìŠ¬ë¡¯ 3</div>
            <div class="title">ë¹„ì›Œë‘ </div>
            <div class="hint">ìš”ì²­ëŒ€ë¡œ ê³µë°± ìœ ì§€</div>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="sectionHead">
          <h2>ğŸ”¥ TFT(ìº˜ë¦¬ í‘œí˜„) í¬ìŠ¤íŒ… ì¹´í…Œê³ ë¦¬ (+ì´ëª¨ì§€)</h2>
          <div class="sub">ê° ì¹´í…Œê³ ë¦¬ 5ê°œ í‘œì‹œ Â· ìŠ¤í¬ë¡¤ë¡œ ì „ì²´ í™•ì¸</div>
        </div>

        <div class="catGrid" id="categoryGrid"></div>
      </div>
    </section>

    <aside class="sidebarWrap">
      <div class="sidebar" id="sidebar">
        <div class="couponPanel">
          <div class="couponHead">
            <div>
              <div class="t">ğŸ”¥ ì¿ í° ì½”ë“œ Â· ë§í¬</div>
              <div class="d">ë¶€ë“œëŸ½ê²Œ ë’¤ë”°ë¼ì˜¤ë©° ì‹œì„ ì„ ë„ëŠ” íŒ¨ë„</div>
            </div>
            <div class="chip">ê´€ì„± ì¶”ì </div>
          </div>
          <div class="couponList" id="couponList"></div>
        </div>
      </div>
    </aside>
  </main>

  <button class="fab" id="fabBtn" title="ì¿ í°"><span></span></button>
  <div class="toast" id="toast">ë³µì‚¬ ì™„ë£Œ</div>

  <!-- âœ… ê¸€ ëª©ë¡/ì¿ í° ë°ì´í„°ëŠ” ì—¬ê¸°ì„œë§Œ ë¶ˆëŸ¬ì˜´ -->
  <script src="./posts/posts-data.js"></script>

  <script>
    const $ = (s)=>document.querySelector(s);

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function showToast(msg){
      const t = $("#toast");
      t.textContent = msg || "ë³µì‚¬ ì™„ë£Œ";
      t.classList.add("show");
      setTimeout(()=>t.classList.remove("show"), 900);
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        showToast("ë³µì‚¬ ì™„ë£Œ");
      }catch(e){
        const ta=document.createElement("textarea");
        ta.value=text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        showToast("ë³µì‚¬ ì™„ë£Œ");
      }
    }

    function renderCoupons(){
      const list = $("#couponList");
      list.innerHTML = "";

      const items = shuffle(window.TFY_COUPONS || []);
      for(const c of items){
        const card = document.createElement("div");
        card.className = "couponCard";

        const meta = document.createElement("div");
        meta.className = "couponMeta";

        const name = document.createElement("div");
        name.className = "name";
        name.innerHTML = `<span>${c.name}</span><span class="small">${c.who}</span>`;
        meta.appendChild(name);

        const pill = document.createElement("div");
        pill.className = "codePill";
        pill.innerHTML = `<span style="font-weight:900;color:#fb923c;">CODE</span> <b>${c.code}</b>`;
        meta.appendChild(pill);

        const btns = document.createElement("div");
        btns.style.display="flex";
        btns.style.gap="8px";

        const b1 = document.createElement("button");
        b1.className = "miniBtn copy";
        b1.textContent = "ë³µì‚¬";
        b1.onclick = ()=>copyText(c.code);

        const b2 = document.createElement("button");
        b2.className = "miniBtn go";
        b2.textContent = "ì´ë™";
        b2.onclick = ()=>window.open(c.link, "_blank", "noopener,noreferrer");

        btns.appendChild(b1);
        btns.appendChild(b2);

        card.appendChild(meta);
        card.appendChild(btns);
        list.appendChild(card);
      }
    }

    function enableInertiaFollow(){
      const sidebar = $("#sidebar");
      let targetY = 0;
      let currentY = 0;

      window.addEventListener("mousemove", (e)=>{
        const center = window.innerHeight/2;
        const dy = (e.clientY - center) * 0.12;
        targetY = Math.max(-40, Math.min(120, dy));
      }, { passive:true });

      function tick(){
        currentY += (targetY - currentY) * 0.08;
        sidebar.style.transform = `translateY(${currentY}px)`;
        requestAnimationFrame(tick);
      }
      tick();
    }

    function renderCategories(){
      const grid = $("#categoryGrid");
      grid.innerHTML = "";

      const cats = window.TFY_CATEGORIES || [];
      const posts = window.TFY_POSTS || [];

      const grouped = {};
      for(const c of cats) grouped[c.key] = [];
      for(const p of posts) grouped[p.cat].push(p);

      for(const cat of cats){
        const box = document.createElement("div");
        box.className = "cat";

        const head = document.createElement("div");
        head.className = "catTitle";
        head.innerHTML = `<span>${cat.title}</span><small>ìµœëŒ€ 5ê°œ í‘œì‹œ</small>`;
        box.appendChild(head);

        const list = document.createElement("ul");
        list.className = "scrollList";

        for(const post of grouped[cat.key]){
          const li = document.createElement("li");
          li.className = "item";

          const left = document.createElement("div");
          left.style.minWidth = "0";

          const a = document.createElement("a");
          a.textContent = post.title;

          // âœ… ready=trueë©´ ë§í¬ í™œì„±, ì•„ë‹ˆë©´ 'ì—…ë¡œë“œ ì˜ˆì •'
          if(post.ready){
            a.href = `./posts/${post.file}`;
          }else{
            a.href = "javascript:void(0)";
            a.style.cursor = "default";
            a.style.opacity = ".75";
          }

          left.appendChild(a);

          const right = document.createElement("div");
          right.className = "badge " + (post.ready ? "" : "miss");
          right.textContent = post.ready ? "ë³´ê¸°" : "ê³§ ì—…ë¡œë“œ ì˜ˆì •ì…ë‹ˆë‹¤!";

          li.appendChild(left);
          li.appendChild(right);

          list.appendChild(li);
        }

        box.appendChild(list);
        grid.appendChild(box);
      }
    }

    // ë¡œê³  í´ë¦­: ì´ë™ X, í”ë“¤ê¸°ë§Œ
    $("#logoBtn").addEventListener("click", ()=>{
      const mark = document.querySelector(".logo-mark");
      mark.style.animation = "none";
      void mark.offsetWidth;
      mark.style.animation = "tickle 650ms ease-in-out both";
    });

    $("#fabBtn").addEventListener("click", ()=>{
      document.querySelector(".couponPanel").scrollIntoView({ behavior:"smooth", block:"start" });
    });

    renderCoupons();
    renderCategories();
    enableInertiaFollow();
  </script>
</body>
</html>
