<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TemuForYou</title>

  <!-- í°íŠ¸: Apple SD Gothic Neo ê³ ì • -->
  <style>
    :root{
      --bg:#f6f7f9;
      --card:#ffffff;
      --ink:#121316;
      --muted:#6b7280;
      --line:rgba(15, 23, 42, .08);

      --orange:#ff7a00;
      --orange2:#ff8f1f;

      --shadow: 0 18px 40px rgba(15, 23, 42, .10);
      --shadow2: 0 10px 24px rgba(15, 23, 42, .10);

      --radius-xl: 26px;
      --radius-lg: 18px;
      --radius-md: 14px;
      --radius-sm: 12px;

      --max: 1100px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Apple SD Gothic Neo", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", "Helvetica Neue", Arial, sans-serif;
      color:var(--ink);
      background: var(--bg);
    }

    a{ color:inherit; text-decoration:none; }
    button{ font-family:inherit; }

    /* Top bar */
    .topbar{
      position:sticky;
      top:0;
      z-index:50;
      height:54px;
      background: linear-gradient(90deg, var(--orange), var(--orange2));
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
      display:flex;
      align-items:center;
    }
    .topbar-inner{
      width:min(var(--max), calc(100% - 44px));
      margin:0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }

    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:.3px;
      color:#fff;
      cursor:pointer;
      user-select:none;
      padding:8px 10px;
      border-radius:12px;
    }
    .logo .mark{
      font-weight:900;
      font-size:20px;
      line-height:1;
      transform: translateZ(0);
    }
    .logo .name{
      font-weight:800;
      font-size:14px;
      opacity:.95;
    }

    /* hover wiggle */
    @keyframes wiggleX {
      0%{ transform: translateX(0) rotate(0deg); }
      15%{ transform: translateX(-2px) rotate(-1deg); }
      30%{ transform: translateX(3px) rotate(1deg); }
      45%{ transform: translateX(-3px) rotate(-1deg); }
      60%{ transform: translateX(2px) rotate(1deg); }
      75%{ transform: translateX(-1px) rotate(0deg); }
      100%{ transform: translateX(0) rotate(0deg); }
    }
    .logo:hover .mark{
      animation: wiggleX .55s ease-in-out;
    }

    /* Layout */
    .wrap{
      width:min(var(--max), calc(100% - 44px));
      margin: 26px auto 70px;
      position:relative;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap: 22px;
      align-items:start;
    }

    @media (max-width: 980px){
      .grid{
        grid-template-columns: 1fr;
      }
    }

    /* Hero card */
    .hero{
      background: linear-gradient(180deg, rgba(255, 122, 0, .09), rgba(255, 122, 0, .04));
      border: 1px solid rgba(255, 122, 0, .18);
      border-radius: var(--radius-xl);
      padding: 26px;
      box-shadow: var(--shadow);
    }
    .hero h1{
      margin:0 0 10px;
      font-size: 30px;
      letter-spacing:-.6px;
      line-height:1.25;
    }
    .hero p{
      margin:0 0 18px;
      color: rgba(17, 24, 39, .72);
      line-height:1.6;
      font-size: 14.5px;
    }

    .coupon-slots{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 16px;
    }
    @media (max-width: 720px){
      .coupon-slots{ grid-template-columns: 1fr; }
    }
    .slot{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      padding: 14px 14px 13px;
      box-shadow: 0 8px 16px rgba(15, 23, 42, .06);
      min-height: 92px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .slot .top{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .dot{
      width:10px; height:10px; border-radius:99px;
      background: #3b82f6;
      flex:0 0 auto;
    }
    .dot.g{ background:#10b981; }
    .dot.p{ background:#8b5cf6; }
    .slot .label{
      font-size:12px;
      color: rgba(17, 24, 39, .65);
      font-weight:700;
    }
    .slot .value{
      margin-top:8px;
      font-size:16px;
      font-weight:900;
      letter-spacing:.2px;
    }
    .slot .sub{
      margin-top:4px;
      font-size:12px;
      color: rgba(107, 114, 128, .92);
    }

    /* Categories block */
    .block{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius-xl);
      padding: 18px 18px 14px;
      box-shadow: var(--shadow2);
      margin-top: 18px;
    }
    .block-h{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      padding: 6px 6px 14px;
    }
    .block-title{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:-.3px;
      font-size:16px;
    }
    .block-sub{
      color: rgba(107, 114, 128, .92);
      font-size:12px;
      white-space:nowrap;
    }

    .cats{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
      margin-top: 6px;
    }
    @media (max-width: 720px){
      .cats{ grid-template-columns: 1fr; }
    }

    .cat{
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255, 122, 0, .04), rgba(255, 122, 0, .02));
    }
    .cat-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 12px 10px;
      background: rgba(255,255,255,.75);
      border-bottom: 1px solid var(--line);
    }
    .cat-name{
      font-weight:900;
      letter-spacing:-.2px;
      font-size:14px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .pill{
      font-size:11px;
      font-weight:800;
      padding: 5px 9px;
      border-radius: 999px;
      background: rgba(255, 122, 0, .12);
      border: 1px solid rgba(255, 122, 0, .22);
      color: #b45309;
      white-space:nowrap;
    }

    .cat-body{
      padding: 10px 10px 12px;
      max-height: 206px;
      overflow:auto;
    }
    .post{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid transparent;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .post:hover{
      background: rgba(255, 122, 0, .06);
      border-color: rgba(255, 122, 0, .18);
      transform: translateY(-1px);
    }
    .post-title{
      font-weight:800;
      font-size:13px;
      line-height:1.25;
      color: rgba(17, 24, 39, .92);
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient: vertical;
      overflow:hidden;
    }
    .post-meta{
      font-size:11px;
      color: rgba(107, 114, 128, .92);
      white-space:nowrap;
      margin-left: 8px;
    }
    .badge-ready{
      font-size:11px;
      font-weight:800;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(107, 114, 128, .10);
      border: 1px solid rgba(107, 114, 128, .18);
      color: rgba(107, 114, 128, .95);
      white-space:nowrap;
    }

    /* Right floating sidebar (inertia follow) */
    .float-wrap{
      position: relative;
      min-height: 1px;
    }
    .float{
      position: fixed;
      width: 320px;
      right: max(22px, calc((100vw - var(--max)) / 2));
      top: 120px; /* will be animated */
      z-index: 30;
      pointer-events: none; /* allow page interaction */
    }
    @media (max-width: 980px){
      .float{
        position: static;
        width: 100%;
        right:auto;
        top:auto;
        pointer-events:auto;
        margin-top:18px;
      }
    }
    .side{
      pointer-events:auto;
      background: rgba(255,255,255,.88);
      border: 1px solid var(--line);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
    }
    .side-h{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 14px 14px 12px;
      border-bottom: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255, 122, 0, .07), rgba(255,255,255,.55));
    }
    .side-title{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
      letter-spacing:-.2px;
      font-size:14px;
    }

    .side-body{
      padding: 12px;
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height: 520px;
      overflow:auto;
    }

    .citem{
      border-radius: 18px;
      border: 1px solid rgba(255, 122, 0, .18);
      background: linear-gradient(180deg, rgba(255, 122, 0, .07), rgba(255,255,255,.75));
      padding: 12px;
      box-shadow: 0 10px 18px rgba(15, 23, 42, .08);
      display:grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
    }
    .citem .t{
      font-weight:900;
      font-size:13px;
      letter-spacing:-.2px;
      margin-bottom: 4px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .citem .d{
      color: rgba(107, 114, 128, .95);
      font-size:12px;
      line-height:1.4;
    }
    .citem .code{
      margin-top: 8px;
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.9);
      border: 1px solid var(--line);
      font-weight:900;
      letter-spacing:.3px;
      font-size:12px;
      width: fit-content;
    }

    .btns{
      display:flex;
      gap:8px;
      justify-content:flex-end;
      align-items:flex-start;
    }
    .btn{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.92);
      border-radius: 999px;
      padding: 9px 12px;
      font-weight:900;
      font-size:12px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      box-shadow: 0 10px 18px rgba(15, 23, 42, .08);
      white-space:nowrap;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn.primary{
      background: linear-gradient(90deg, var(--orange), var(--orange2));
      border-color: rgba(255, 122, 0, .25);
      color:#fff;
    }

    /* Bottom-right floating coupon circle button */
    .fab{
      position: fixed;
      right: 18px;
      bottom: 18px;
      width: 58px;
      height: 58px;
      border-radius: 999px;
      border: 1px solid rgba(15,23,42,.12);
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 40px rgba(15,23,42,.14);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      z-index: 60;
      user-select:none;
    }
    .fab svg{
      width: 26px; height: 26px;
      opacity:.92;
    }
    .fab:active{ transform: translateY(1px); }
  </style>

  <!-- ë°ì´í„° íŒŒì¼(1ì°¨): posts-data.js (window.TFY_DATA) -->
  <script src="./posts/posts-data.js"></script>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="logo" id="logoBtn" aria-label="TemuForYou">
        <div class="mark">TFY</div>
        <div class="name"></div>
      </div>
      <div style="height:1px;"></div>
    </div>
  </div>

  <div class="wrap">
    <div class="grid">
      <main>
        <section class="hero">
          <h1>í…Œë¬´ í˜œíƒê³¼ ë¬¸ì œ í•´ê²°ì„<br/>í•œ ê³³ì—ì„œ ì •ë¦¬í•©ë‹ˆë‹¤</h1>
          <p>
            ì¿ í°/ì‚¬ì€í’ˆ/ì„¸ì¼ ì •ë³´ë¶€í„° ê²°ì œÂ·ë°°ì†¡Â·í†µê´€Â·í™˜ë¶ˆ ê°™ì€ ìì£¼ ë§‰íˆëŠ” êµ¬ê°„ê¹Œì§€,
            ì‹¤ì œ íë¦„ ê¸°ì¤€ìœ¼ë¡œ ë¹ ë¥´ê²Œ í™•ì¸í•  ìˆ˜ ìˆê²Œ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.
          </p>

          <div class="coupon-slots" id="couponSlots">
            <div class="slot">
              <div class="top"><span class="dot"></span><div class="label">ì¿ í° ìŠ¬ë¡¯ 1</div></div>
              <div class="value">ë¹„ì›Œë‘ </div>
              <div class="sub">í•„ìš” ì‹œ ìë™ ë°˜ì˜</div>
            </div>
            <div class="slot">
              <div class="top"><span class="dot g"></span><div class="label">ì¿ í° ìŠ¬ë¡¯ 2</div></div>
              <div class="value">ë¹„ì›Œë‘ </div>
              <div class="sub">í•„ìš” ì‹œ ìë™ ë°˜ì˜</div>
            </div>
            <div class="slot">
              <div class="top"><span class="dot p"></span><div class="label">ì¿ í° ìŠ¬ë¡¯ 3</div></div>
              <div class="value">ë¹„ì›Œë‘ </div>
              <div class="sub">í•„ìš” ì‹œ ìë™ ë°˜ì˜</div>
            </div>
          </div>
        </section>

        <section class="block" style="margin-top:18px;">
          <div class="block-h">
            <div class="block-title">ğŸ”¥ í¬ìŠ¤íŒ… ì¹´í…Œê³ ë¦¬</div>
            <div class="block-sub">ê° ì¹´í…Œê³ ë¦¬ 5ê°œ í‘œì‹œ Â· ìŠ¤í¬ë¡¤ë¡œ ì „ì²´ í™•ì¸</div>
          </div>

          <div class="cats" id="cats">
            <!-- injected -->
          </div>
        </section>
      </main>

      <aside class="float-wrap">
        <div class="float" id="floatBox">
          <div class="side">
            <div class="side-h">
              <div class="side-title">ğŸ”¥ ì¿ í° ì½”ë“œ Â· ë§í¬</div>
              <div class="pill">ë”°ë¼ì˜¤ëŠ”</div>
            </div>
            <div class="side-body" id="couponList">
              <!-- injected -->
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <div class="fab" id="fabBtn" aria-label="ì¿ í° ì—´ê¸°">
    <!-- simple coupon icon -->
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M4.5 8.5c1.1 0 2-.9 2-2V5.8c0-.7.6-1.3 1.3-1.3h12.4c.7 0 1.3.6 1.3 1.3v.7c0 1.1.9 2 2 2v6.9c-1.1 0-2 .9-2 2v.7c0 .7-.6 1.3-1.3 1.3H7.8c-.7 0-1.3-.6-1.3-1.3v-.7c0-1.1-.9-2-2-2V8.5Z" stroke="rgba(17,24,39,.75)" stroke-width="1.6" />
      <path d="M12 7v10" stroke="rgba(17,24,39,.35)" stroke-width="1.6" stroke-dasharray="2.2 2.2" />
    </svg>
  </div>

  <script>
    /* -----------------------------
       Safe data loader (2-level)
       1) window.TFY_DATA  (posts-data.js)
       2) ./posts/posts.json (optional)
    ------------------------------ */
    async function loadTFYData(){
      if (window.TFY_DATA && typeof window.TFY_DATA === "object") return window.TFY_DATA;

      // optional JSON fallback
      try{
        const res = await fetch("./posts/posts.json", { cache: "no-store" });
        if (res.ok){
          const json = await res.json();
          if (json && typeof json === "object") return json;
        }
      }catch(e){ /* ignore */ }

      // final fallback (minimal safe defaults)
      return {
        coupons: [
          { title:"150,000ì› ì¿ í° ë¬¶ìŒ", tag:"ì‹ ê·œ ì•± ì‚¬ìš©ì", code:"aak74594", link:"https://temu.to/m/uotsq20netz" },
          { title:"ì‚¬ì€í’ˆ 0ì›", tag:"ì‹ ê·œ ì•± ì‚¬ìš©ì", code:"frq027981", link:"https://temu.to/m/u3ia9bomcaw" },
          { title:"30% í• ì¸", tag:"ì‹ ê·œ ì•± ì‚¬ìš©ì", code:"acr804202", link:"https://temu.to/m/u3ckk6z4eku" },
          { title:"íŠ¹ë³„ ì„¸ì¼", tag:"ì‹ ê·œ ì•± ì‚¬ìš©ì", code:"ack263361", link:"https://temu.to/m/u6ndc7zl0v8" },
          { title:"SAVE BIG", tag:"ëª¨ë“  ì‚¬ìš©ì", code:"frw419209", link:"https://temu.to/m/u0zwrhwzccf" },
          { title:"ì¶”ê°€ í˜œíƒ", tag:"ëª¨ë“  ì‚¬ìš©ì", code:"alf468043", link:"https://temu.to/k/qgzxbhz73coe" }
        ],
        categories: [
          {
            id:"benefit",
            emoji:"ğŸ",
            name:"í˜œíƒ Â· ì¿ í°",
            posts: [
              { title:"í…Œë¬´ ì¿ í°ì½”ë“œ ì…ë ¥, ì´ ìˆœì„œë¡œ í•˜ë©´ ì ìš©ì´ ì œì¼ ê¹”ë”í•©ë‹ˆë‹¤", slug:"temu-coupon-code-input", ready:false },
              { title:"í…Œë¬´ 2026 ì¿ í°, ì‹¤ì œë¡œ ë¨¹íˆëŠ” ê³„ì • ì¡°ê±´ì´ ë”°ë¡œ ìˆìŠµë‹ˆë‹¤", slug:"temu-coupon-2026", ready:false },
              { title:"í…Œë¬´ ì¿ í° ì ìš©ì´ ì•ˆ ë  ë•Œ, í™•ì¸í•´ì•¼ í•  7ê°€ì§€", slug:"temu-coupon-not-working", ready:false },
              { title:"í…Œë¬´ ìŠ¤í˜ì…œ ì„¸ì¼, ì§„ì§œ ì‹¸ê²Œ ì¡ëŠ” íƒ€ì´ë° ì •ë¦¬", slug:"temu-special-sale", ready:false },
              { title:"í…Œë¬´ ì‚¬ì€í’ˆ 0ì›, ê°€ëŠ¥í•œ êµ¬ì¡°ì™€ ì•ˆ ë˜ëŠ” ì¼€ì´ìŠ¤", slug:"temu-free-gift-0won", ready:false }
            ]
          },
          {
            id:"pay",
            emoji:"ğŸ’³",
            name:"ê²°ì œ Â· ê³„ì •",
            posts: [
              { title:"í…Œë¬´ ê²°ì œ ì˜¤ë¥˜ ë°œìƒ ì‹œ, ëŒ€ë¶€ë¶„ ì´ ë‹¨ê³„ì—ì„œ ë§‰í™ë‹ˆë‹¤", slug:"temu-payment-error-most-stuck", ready:false },
              { title:"í…Œë¬´ ê²°ì œ ì‹¤íŒ¨ ë°˜ë³µ, ì¹´ë“œ ë¬¸ì œë³´ë‹¤ ê³„ì • ì„¤ì •ì´ ì›ì¸ì¸ ê²½ìš°", slug:"temu-payment-fail-account", ready:false },
              { title:"í…Œë¬´ ê²°ì œ ìŠ¹ì¸ë§Œ ë˜ê³  ì£¼ë¬¸ì´ ì•ˆ ëœ° ë•Œ í™•ì¸ ìˆœì„œ", slug:"temu-payment-approved-no-order", ready:false },
              { title:"í…Œë¬´ ê²°ì œ ì˜¤ë¥˜, ì•±/ì›¹ ì°¨ì´ë¡œ ìƒê¸°ëŠ” ëŒ€í‘œ ì¼€ì´ìŠ¤", slug:"temu-payment-app-web-diff", ready:false },
              { title:"í…Œë¬´ ê²°ì œ ì˜¤ë¥˜ë¥¼ ì¤„ì´ëŠ” í•„ìˆ˜ ê¸°ë³¸ ì„¤ì • 5ê°€ì§€", slug:"temu-payment-prevent-5", ready:false }
            ]
          },
          {
            id:"ship",
            emoji:"ğŸšš",
            name:"ë°°ì†¡ Â· í†µê´€",
            posts: [
              { title:"í…Œë¬´ í†µê´€ë²ˆí˜¸ í•œ ê¸€ì ë•Œë¬¸ì— ë°°ì†¡ì´ ë©ˆì¶˜ ì‚¬ë¡€, ì‹¤ì œë¡œ ê°€ì¥ ë§ì•˜ìŠµë‹ˆë‹¤", slug:"temu-customs-code-one-letter-shipping-stop", ready:false },
              { title:"í…Œë¬´ ë°°ì†¡ì´ ë©ˆì¶˜ ê²ƒì²˜ëŸ¼ ë³´ì¼ ë•Œ, â€˜ì •ìƒ ëŒ€ê¸°â€™ì™€ â€˜ë¬¸ì œâ€™ êµ¬ë¶„ë²•", slug:"temu-shipping-stuck-normal-vs-issue", ready:false },
              { title:"í…Œë¬´ í†µê´€ ë‹¨ê³„ì—ì„œ ì˜¤ë˜ ê±¸ë¦´ ë•Œ, í™•ì¸í•´ì•¼ í•  í™”ë©´ 3ê³³", slug:"temu-customs-long-check-3", ready:false },
              { title:"í…Œë¬´ ë°°ì†¡ì¡°íšŒê°€ ì•ˆ ë§ì„ ë•Œ, ì—…ë°ì´íŠ¸ ì£¼ê¸° ë•Œë¬¸ì— ìƒê¸°ëŠ” ì°©ì‹œ", slug:"temu-tracking-lag", ready:false },
              { title:"í…Œë¬´ ì£¼ì†Œ ì…ë ¥ ì‹¤ìˆ˜, ìˆ˜ì • ê°€ëŠ¥/ë¶ˆê°€ê°€ ê°ˆë¦¬ëŠ” ê¸°ì¤€", slug:"temu-address-fix-rule", ready:false }
            ]
          },
          {
            id:"cs",
            emoji:"ğŸ§¾",
            name:"í™˜ë¶ˆ Â· ê³ ê°ì„¼í„°",
            posts: [
              { title:"í…Œë¬´ í™˜ë¶ˆ ì²˜ë¦¬ ì†ë„, ë¹¨ë¼ì§€ëŠ” ìš”ì²­ ë°©ì‹ì´ ë”°ë¡œ ìˆìŠµë‹ˆë‹¤", slug:"temu-refund-fast-way", ready:false },
              { title:"í…Œë¬´ í™˜ë¶ˆ ìƒíƒœê°€ ë©ˆì¶˜ ê²ƒì²˜ëŸ¼ ë³´ì¼ ë•Œ, ì‹¤ì œ ì§„í–‰ íë¦„", slug:"temu-refund-status-flow", ready:false },
              { title:"í…Œë¬´ í™˜ë¶ˆ â€˜í¬ë ˆë”§â€™ìœ¼ë¡œ ë“¤ì–´ì˜¬ ë•Œ ê¼­ ì•Œì•„ì•¼ í•  í¬ì¸íŠ¸", slug:"temu-refund-credit-point", ready:false },
              { title:"í…Œë¬´ ë°˜í’ˆ ì—†ì´ í™˜ë¶ˆë˜ëŠ” ì¼€ì´ìŠ¤, ì¡°ê±´ ì •ë¦¬", slug:"temu-refund-without-return", ready:false },
              { title:"í…Œë¬´ ê³ ê°ì„¼í„° ë‹µì´ ëŠ¦ì„ ë•Œ, ë¬¸ì˜ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ì‘ì„±ë²•", slug:"temu-cs-message-format", ready:false }
            ]
          }
        ]
      };
    }

    function shuffle(arr){
      const a = arr.slice();
      for (let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function el(tag, attrs={}, children=[]){
      const n = document.createElement(tag);
      for (const [k,v] of Object.entries(attrs)){
        if (k === "class") n.className = v;
        else if (k === "html") n.innerHTML = v;
        else if (k.startsWith("on") && typeof v === "function") n.addEventListener(k.slice(2), v);
        else n.setAttribute(k, v);
      }
      (Array.isArray(children) ? children : [children]).forEach(c=>{
        if (c == null) return;
        if (typeof c === "string") n.appendChild(document.createTextNode(c));
        else n.appendChild(c);
      });
      return n;
    }

    async function boot(){
      const data = await loadTFYData();

      // normalize coupons
      const coupons = Array.isArray(data.coupons) ? data.coupons : [];
      const shuffledCoupons = shuffle(coupons);

      // Fill top 3 slots
      const slots = document.getElementById("couponSlots");
      if (slots && shuffledCoupons.length >= 3){
        const dots = ["dot","dot g","dot p"];
        slots.innerHTML = "";
        for (let i=0;i<3;i++){
          const c = shuffledCoupons[i];
          slots.appendChild(
            el("div",{class:"slot"},[
              el("div",{class:"top"},[
                el("span",{class:dots[i]}),
                el("div",{class:"label"},[`ì¿ í° ìŠ¬ë¡¯ ${i+1}`])
              ]),
              el("div",{class:"value"},[c.code]),
              el("div",{class:"sub"},[c.title])
            ])
          );
        }
      }

      // Right coupon list (6 items)
      const list = document.getElementById("couponList");
      list.innerHTML = "";
      shuffle(coupons).slice(0,6).forEach(c=>{
        const copyBtn = el("button",{class:"btn", type:"button", onClick: async ()=>{
          try{
            await navigator.clipboard.writeText(c.code);
          }catch(e){}
        }},["ë³µì‚¬"]);

        const goBtn = el("button",{class:"btn primary", type:"button", onClick: ()=>{
          window.open(c.link, "_blank", "noopener,noreferrer");
        }},["ì´ë™"]);

        list.appendChild(
          el("div",{class:"citem"},[
            el("div",{},[
              el("div",{class:"t"},[c.title]),
              el("div",{class:"d"},[c.tag || ""]),
              el("div",{class:"code"},[`CODE  ${c.code}`]),
            ]),
            el("div",{class:"btns"},[copyBtn, goBtn])
          ])
        );
      });

      // Categories + posts
      const cats = document.getElementById("cats");
      cats.innerHTML = "";

      const categories = Array.isArray(data.categories) ? data.categories : [];
      categories.forEach(cat=>{
        const body = el("div",{class:"cat-body"});
        const posts = Array.isArray(cat.posts) ? cat.posts : [];
        // show first 5, scroll shows more
        posts.forEach(p=>{
          const href = (p && p.slug) ? `./posts/${p.slug}.html` : "#";
          const ready = !!p.ready;

          const left = el("div",{},[
            el("div",{class:"post-title"},[p.title || "ì œëª©"]),
          ]);

          const right = ready
            ? el("div",{class:"post-meta"},[""])
            : el("div",{class:"badge-ready"},["ì¤€ë¹„ì¤‘"]);

          const row = el("a",{
            class:"post",
            href: ready ? href : href, // keep link shape; if not ready, user may upload later
            onClick: (e)=>{
              // if not ready, still allow link (user may have file). remove hard-block to avoid confusion
            }
          },[
            left,
            right
          ]);

          body.appendChild(row);
        });

        const card = el("div",{class:"cat", id: cat.id || ""},[
          el("div",{class:"cat-head"},[
            el("div",{class:"cat-name"},[`${cat.emoji || "ğŸ“Œ"} ${cat.name || "ì¹´í…Œê³ ë¦¬"}`]),
            el("div",{class:"pill"},["ìŠ¤í¬ë¡¤"])
          ]),
          body
        ]);

        cats.appendChild(card);
      });

      // Logo click: do not navigate, just wiggle
      const logoBtn = document.getElementById("logoBtn");
      logoBtn.addEventListener("click", ()=>{
        const mark = logoBtn.querySelector(".mark");
        mark.style.animation = "none";
        mark.offsetHeight; // reflow
        mark.style.animation = "wiggleX .55s ease-in-out";
      });

      // FAB click -> scroll to top smoothly
      document.getElementById("fabBtn").addEventListener("click", ()=>{
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      // Inertia follow sidebar
      const floatBox = document.getElementById("floatBox");
      if (floatBox && window.matchMedia("(min-width: 981px)").matches){
        let targetY = 120;
        let currentY = 120;

        window.addEventListener("mousemove", (e)=>{
          // follow cursor, but keep safe range
          targetY = Math.min(Math.max(e.clientY - 120, 90), window.innerHeight - 360);
        }, { passive:true });

        function tick(){
          currentY += (targetY - currentY) * 0.08; // inertia
          floatBox.style.top = `${currentY}px`;
          requestAnimationFrame(tick);
        }
        tick();
      }
    }

    // Boot with error safety (do not break page)
    boot().catch((e)=>{ console.error("[TFY] boot error:", e); });
  </script>
</body>
</html>
